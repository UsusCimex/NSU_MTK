// import calc;
// import calcRpn;
// import calcRat;
// import calcDiff;
// import calcPolynomRat;
import simplificationIdentities;


main() {
    //Default calculator test
    // test = "( ((1 +      2) * 3)  + 4)";
    // test2 = "((2 + 3) * (2 * 3))";
    // exp = parse(test);
    // println("TREE: " + expr2s(exp));
    // solve = calculate(exp);
    // println(solve);

    //RPN calculator test
    // test = "(((2 + 3) * (2 * 3)) + 5)";
    // println("ORIG: " + test);

    // exp = parse(test);
    // rpnFormat = expr2rpn(exp);
    // println("RPN: " + rpn2s(rpnFormat));
    // println("result: " + i2s(calculateRPN(rpnFormat)));

    // exp2 = rpn2expr(rpnFormat);
    // println("EXPR: " + expr2s(exp2));

    //Rational calculator test
    // testRational = "- ((((5 * 3) / (4 * 2)) / 3) * a)";
    // testRational = "(1/(x-(2/4)))";
    // params = setTreeValues(makeTree(), [Pair("x", ratNum(1, 2))]);
    // expRat = parse(testRational);
    // println("TREE2: " + expr2s(expRat));
    // solveRat = calculateRat(expRat, params);
    // println(ratNum2s(solveRat));

    //Differentiation test
    // testDifferential = "((3 * (x*x)) + ((-5*x) + 7))";
    // testDifferetial2 = "((((5*x)*x) + (3*x)) + 1)";
    // testDifferetial3 = "((x*x)*x)";

    // exp = parse(testDifferential);
    // println("func1: " + expr2s(exp));
    // diffExp = differentiation(exp, Var("x"));
    // println("Differencial fucn1: " + expr2s(diffExp) + "\n");

    // exp2 = parse(testDifferetial2);
    // println("func2: " + expr2s(exp2));
    // diffExp2 = differentiation(exp2, Var("x"));
    // println("Differencial fucn2: " + expr2s(diffExp2) + "\n");
    
    // exp3 = parse(testDifferetial3);
    // println("func3: " + expr2s(exp3));
    // diffExp3 = differentiation(exp3, Var("x"));
    // println("Differencial fucn3: " + expr2s(diffExp3) + "\n");

    //Polynom calculator test
    // testPolynom = "((((20+y)*x) + x)/(4*x))";
    // testPolynom = "((((x*x)*2)+3)-(2*(x*x)))";
    // testPolynom = "((((5*x)*x) + ((6*(x*y)) + ((5+y)*(x * x)))) / (2*x))";
    // testPolynom = "(((x/y)+1)+((y/x)+(x/y)))";
    // testPolynom = "((x*x)-(y*y))";
    // testPolynom = "(x-y)";
    // exp = parse(testPolynom);
    // println("func: " + expr2s(exp));
    // params = setTreeValues(makeTree(), [Pair("y", ratNum(1, 1))]);
    // params = makeTree();
    // polynom = calculatePolynomRatArr(exp, params, [Var("x"), Var("y")], Var("x"));
    // println("polynom: " + ratPolynom2s(polynom));

    //Identities polynom test
    testPolynom = "(((x*x)*(x*x)) - ((y*y)*(y*y)))";
    polynom = ratPolynom(parse(testPolynom), Int(1));
    println("polynom: " + ratPolynom2s(Some(polynom)));
    simpl = simplificationByIdentities(polynom,
        [Pair(Sub(Mul(Var("x"), Var("x")), Mul(Var("y"), Var("y"))),
                 Mul(Sub(Var("x"), Var("y")), Sum(Var("x"), Var("y"))))]); //x^2 - y^2 = (x-y)*(x+y)
    println("simpl: " + ratPolynom2s(Some(simpl)));
    quit(0);
}